<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../Assets/imagens/logos/logo THUU.png" type="image/x-icon">
    <link rel="stylesheet" href="..//Assets/Desempenho.css">
    <link rel="stylesheet" href="../Assets/fot.css">
    <link rel="stylesheet" href="../Assets/menulateral.css">
    <script async type="module" src="../javascript/autenticacao.js"></script>
    <title>Tchuu Tchuu - Monitoramento </title>
</head>

<body>
    <script type="module" src="../javascript/protegerPAG.js"></script>
    <header class="header">
        <h2>Monitoramento dos Trens</h2>
        <div class="header-icons">
        </div>
    </header>
    <div id="container">
        <main>

            <section id="dashboard-copiado" style="margin-top:40px;">
    <div class="dashboard-grid">
        
        <div class="box box-large">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                <h3 class="titulo-box">üì° Monitoramento em Tempo Real</h3>
                <div style="display: flex; gap: 5px;">
                    <input type="number" id="input_id_sensor" placeholder="ID Sensor" value="1" 
                           style="width: 70px; padding: 5px; border: 1px solid #ccc; border-radius: 4px;">
                    <button class="botao" onclick="atualizarDashboard()" style="padding: 5px 10px; font-size: 0.8em;">
                        Atualizar
                    </button>
                </div>
            </div>
            <div style="position: relative; height: 300px; width: 100%;">
                <canvas id="chart-historico"></canvas>
            </div>
        </div>

        <div class="box box-small">
            <h3 class="titulo-box">Tipos de Ocorr√™ncias</h3>
            <div style="position: relative; height: 150px; width: 100%;">
                <canvas id="chart-tipos-alertas"></canvas>
            </div>
            <span class="label-red">CR√çTICO</span>
        </div>

        <div class="box box-small">
            <h3 class="titulo-box">Status dos Alertas</h3>
            <div style="position: relative; height: 150px; width: 100%;">
                <canvas id="chart-status-alertas"></canvas>
            </div>
            <span class="label-blue">GERAL</span>
        </div>

        <div class="box box-tall">
            <h3 class="titulo-box">üö® √öltimos Alertas</h3>
            <ul class="lista-info" id="lista-ultimos-alertas">
                <li>Carregando...</li>
            </ul>
        </div>

        <div class="box box-wide">
            <h3 class="titulo-box">Varia√ß√£o Recente</h3>
            <div style="position: relative; height: 200px; width: 100%;">
                <canvas id="chart-variacao"></canvas>
            </div>
        </div>

    </div>
</section>

            <section>

                <section class="bloco_section chamados-centralizados">
                    <h2 class="titulo-trens">Chamados de Manuten√ß√£o</h2>
                    <div class="chamados-container">
                        <div class="card-chamado">
                            <p>Fa√ßa um chamado de manuten√ß√£o</p>
                            <button class="botao" id="botao_fazer_chamado">Fazer chamado</button>
                        </div>

                        <div id="overlay"></div>

                        <div id="popup" class="popup-chamado">
                            <h2 class="titulo-popup">Relatar problema no site</h2>
                            <div class="popup-conteudo">
                                <label>P√°gina onde ocorreu o problema:</label>
                                <input type="text" id="pagina" placeholder="Ex: Dashboard, Perfil, P√°gina de Frota...">
                                <label>Tipo de problema:</label>
                                <select id="tipoProblema">
                                    <option value="">Selecione um problema</option>
                                    <option value="Bot√£o n√£o funciona">Bot√£o n√£o funciona</option>
                                    <option value="P√°gina n√£o carrega">P√°gina n√£o carrega</option>
                                    <option value="Informa√ß√µes incorretas">Informa√ß√µes incorretas</option>
                                    <option value="Erro de layout">Erro de layout</option>
                                    <option value="Erro de servidor">Erro de servidor</option>
                                    <option value="Problema de login">Problema de login</option>
                                    <option value="Outro">Outro</option>
                                </select>
                                <label>Data do ocorrido:</label>
                                <input type="date" id="data">
                                <label>Descri√ß√£o detalhada:</label>
                                <textarea id="descricao" rows="4" placeholder="Explique o que aconteceu..."></textarea>
                                <button class="botao" id="btn_enviar_chamado">Enviar</button>
                                <button class="botao" style="margin-top:10px;"
                                    id="btn_cancelar_chamado">Cancelar</button>
                            </div>
                        </div>

                        <div id="popupVerSensores" class="popup-chamado" style="display: none;">
                            <h2 class="titulo-popup">Visualizar Sensores Cadastrados</h2>
                            <div class="popup-conteudo">
                                <p>Aqui voc√™ ver√° uma tabela de todos os sensores no seu banco de dados, com
                                    seus IDs e tipos.</p>

                                <div id="listaSensores"
                                    style="max-height: 300px; overflow-y: auto; border: 1px solid #ccc; padding: 10px;">
                                    <p>Carregando dados...</p>
                                </div>
                                <button class="botao" style="margin-top:10px;"
                                    id="btn_fechar_ver_sensores">Fechar</button>
                            </div>
                        </div>


                        <div id="popupDeletarSensor" class="popup-chamado" style="display: none;">
                            <h2 class="titulo-popup">Confirma√ß√£o de Dele√ß√£o</h2>
                            <div class="popup-conteudo">
                                <p>Selecione o sensor que deseja deletar. Esta a√ß√£o √© irrevers√≠vel.</p>

                                <label>nome do Sensor</label>
                                <input type="text" id="nome_sensor">
                                <br>
                                <br>
                                <button class="botao" id="btn_confirmar_delecao">Deletar PERMANENTEMENTE</button><br>
                                <button class="botao" style="margin-top:10px;"
                                    id="btn_cancelar_delecao">Cancelar</button>
                            </div>
                        </div>


                        <div id="popupAtualizarSensor" class="popup-chamado" style="display: none;">
                            <h2 class="titulo-popup">Atualizar Sensor</h2>
                            <div class="popup-conteudo">
                                <p>Selecione o sensor e preencha apenas os campos que deseja atualizar.</p>

                                <label>nome do sensor que quer atualizar</label>
                                <input type="text" id="nome_original">

                                <br>

                                <label>Novo nome</label>
                                <input type="text" id="novo_nome">

                                <br>
                                <label>Novo Tipo de Sensor:</label>
                                <select name="Tipos De Sensor" id="TipoSensor_novo">
                                    <option value="LDR1">LDR</option>
                                    <option value="DHT1">DHT11</option>
                                    <option value="UltraSom1">Ultrass√¥nico</option>
                                    <option value="SensVelocidade">Sensor de Velocidade</option>
                                </select>
                                <br>



                                <br><br>
                                <button class="botao" id="btn_enviar_atualizacao">Atualizar Sensor</button>
                                <br>
                                <button class="botao" style="margin-top:10px;"
                                    id="btn_cancelar_atualizacao">Cancelar</button>
                            </div>
                        </div>


                        <div class="card-chamado">
                            <p>Analise chamados</p>
                            <a class="botao" href="pagChamados.html">Acessar Trens</a>
                        </div>
                    </div>
                </section>

                <section class="bloco_section">
                    <h2 class="titulo-trens">Trens</h2>
                    <div class="trens-flex">
                        <div class="card-trem">
                            <h3>Cadastrar novos Trens √† frota</h3>
                            <p>Acesse para adicionar os dados de um novo trem adquirido</p>
                            <a class="botao" href="pagregistraTREM.html">Adicionar Trem</a>
                        </div>
                        <div class="card-trem">
                            <h3>Monitoramento de Frota</h3>
                            <p>Analise as informa√ß√µes sobre cada trem pertencente √† frota</p>
                            <a class="botao" href="pagFrota.html">Acessar Trens</a>
                        </div>
                        <div class="card-trem">
                            <h3>Enviar Trens para Manuten√ß√£o</h3>
                            <p>Voc√™ teve algum problema nos seus trens?</p>
                            <a class="botao" href="enviaTremManu.html">Acesso a Manuten√ß√£o</a>
                        </div>
                    </div>
                </section>

                <section>
                    <div class="informacoes2">
                        <div class="informacoes2tl">
                            <h2>Cadastrar Sensores</h2>
                        </div>
                    </div>
                    <div class="chart-container">
                        <label for="">Acesse para Adicionar novo tipo de Sensor</label>
                        <br>
                        <div class="sensor-flex">
                            <div class="card-sensor">
                                <h3>Cadastrar Sensores</h3>
                                <p>Acesse para adicionar os dados de um novo sensor</p>
                                <a class="botao" href="cadastrarSensor.html">Adicionar Sensor</a>
                            </div>

                            <div class="card-sensor">
                                <h3>Ver Sensores</h3>
                                <p>Analise os sensores cadastrados</p>
                                <button class="botao" id="botao_pop_ver">Visualizar</button>
                            </div>

                            <div class="card-sensor">
                                <h3>Atualizar Sensores</h3>
                                <p>Voc√™ quer mudar algo nos seus sensores?</p>
                                <button class="botao" id="botao_pop_update">Atualizar Sensor</button>
                            </div>

                            <div class="card-sensor">
                                <h3>Deletar Sensores</h3>
                                <p>Voc√™ quer deletar algum sensor?</p>
                                <button class="botao" id="botao_pop_deletar">Deletar Sensor</button>
                            </div>

                        </div>
                    </div>
                </section>

            </section>

        </main>


    </div>
    <script src="../javascript/render_menu.js"></script>
    <script src="../javascript/render_rodape.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="module" src="../javascript/autenticacao.js"></script>
    <script src="../javascript/GraficoDesempenho.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script src="../javascript/Atualizar_Sensor.js"></script>
    <script src="../javascript/SensorView.js"></script>
    <script src="../javascript/SensorDelete.js"></script>

    <script src="../javascript/graficoSensores.js"></script>
</body>
<script src="../javascript/Monitora.js"> </script>

</html>